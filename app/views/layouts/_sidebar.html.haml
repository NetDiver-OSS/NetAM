%div{ class: 'hidden md:flex md:flex-shrink-0', 'data-behavior': 'vue-sidebar' }
  %div{ class: 'flex flex-col w-64' }
    %div{ class: 'flex flex-col flex-grow border-r border-gray-200 dark:border-gray-600 pt-5 pb-4 bg-white dark:bg-gray-700 overflow-y-auto' }
      %div{ class: 'flex items-center justify-center flex-shrink-0 px-4' }
        = link_to 'NetAM', root_path, class: 'text-gray-700 dark:text-gray-100 text-2xl font-semibold'
      %div{ class: 'mt-5 flex-grow flex flex-col' }
        %nav{ class: 'flex-1 px-2 bg-white dark:bg-gray-700 space-y-1' }
          %div
            = link_to root_path, class: "sidebar-link #{'current' if current_page?(root_path)}" do
              = fa_icon('solid', 'home', class_name: "mr-3 w-6 #{current_page?(root_path) ? 'text-gray-500 dark:text-gray-300' : 'text-gray-400 hover:text-gray-300'}")
              = _('Dashboard')

          %sidebar-menu{ container_class: 'space-y-1', opened: %w[sections vlans devices device_types rackspaces].include?(controller_name) }
            %template.hidden{ 'v-slot:button': 'button' }
              %button.sidebar-link{ type: 'button', 'aria-expanded': 'false' }
                = fa_icon('solid', 'server', class_name: "mr-3 w-6 #{current_page?(root_path) ? 'text-gray-500 dark:text-gray-300' : 'text-gray-400 hover:text-gray-300'}")
                NetAM
                %svg{ class: 'text-gray-300 ml-auto h-5 w-5 transform group-hover:text-gray-400 transition-colors ease-in-out duration-150', viewBox: '0 0 20 20', 'aria-hidden': 'true' }
                  %path{ d: 'M6 6L14 10L6 14V6Z', fill: 'currentColor' }

            %template.hidden{ 'v-slot:menu': 'menu' }
              .space-y-1
                = link_to _('Sections'), sections_path, class: "sidebar-sublink #{'current' if controller_name == 'sections'}"
                = link_to _('Vlans'), vlans_path, class: "sidebar-sublink #{'current' if controller_name == 'vlans'}"
                = link_to _('Devices'), devices_path, class: "sidebar-sublink #{'current' if controller_name == 'devices'}"
                = link_to _('Devices Type'), device_types_path, class: "sidebar-sublink #{'current' if controller_name == 'device_types'}"
                = link_to _('Rackspaces'), rackspaces_path, class: "sidebar-sublink #{'current' if controller_name == 'rackspaces'}"


          %sidebar-menu{ container_class: 'space-y-1', opened: controller_name == 'utils' }
            %template.hidden{ 'v-slot:button': 'button' }
              %button.sidebar-link{ type: 'button', 'aria-expanded': 'false' }
                = fa_icon('solid', 'tools', class_name: "mr-3 w-6 #{current_page?(root_path) ? 'text-gray-500 dark:text-gray-300' : 'text-gray-400 hover:text-gray-300'}")
                = _('Utils')
                %svg{ class: 'text-gray-300 ml-auto h-5 w-5 transform group-hover:text-gray-400 transition-colors ease-in-out duration-150', viewBox: '0 0 20 20', 'aria-hidden': 'true' }
                  %path{ d: 'M6 6L14 10L6 14V6Z', fill: 'currentColor' }

            %template.hidden{ 'v-slot:menu': 'menu' }
              .space-y-1
                = link_to _('IP Calculator'), utils_calculator_path, class: "sidebar-sublink #{'current' if current_page?(utils_calculator_path)}"
                = link_to _('MAC Vendor'), utils_mac_vendor_path, class: "sidebar-sublink #{'current' if current_page?(utils_mac_vendor_path)}"
                = link_to _('Network Splitter'), utils_network_splitter_path, class: "sidebar-sublink #{'current' if current_page?(utils_network_splitter_path)}"
                = link_to _('PTR Resolver'), utils_ptr_resolution_path, class: "sidebar-sublink #{'current' if current_page?(utils_ptr_resolution_path)}"
                = link_to _('DNS Resolver'), utils_dns_resolver_path, class: "sidebar-sublink #{'current' if current_page?(utils_dns_resolver_path)}"
                = link_to _('Whois'), utils_whois_path, class: "sidebar-sublink #{'current' if current_page?(utils_whois_path)}"

          - if current_user.admin?
            %sidebar-menu{ container_class: 'space-y-1', opened: %w[users backups workers sidekiq].include?(controller_name) }
              %template.hidden{ 'v-slot:button': 'button' }
                %button.sidebar-link{ type: 'button', 'aria-expanded': 'false' }
                  = fa_icon('solid', 'cogs', class_name: "mr-3 w-6 #{current_page?(root_path) ? 'text-gray-500 dark:text-gray-300' : 'text-gray-400 hover:text-gray-300'}")
                  = _('Admin Center')
                  %svg{ class: 'text-gray-300 ml-auto h-5 w-5 transform group-hover:text-gray-400 transition-colors ease-in-out duration-150', viewBox: '0 0 20 20', 'aria-hidden': 'true' }
                    %path{ d: 'M6 6L14 10L6 14V6Z', fill: 'currentColor' }

              %template.hidden{ 'v-slot:menu': 'menu' }
                .space-y-1
                  = link_to _('Users'), admin_users_path, class: "sidebar-sublink #{'current' if controller_name == 'users'}"
                  = link_to _('Backups'), admin_backups_path, class: "sidebar-sublink #{'current' if controller_name == 'backups'}"
                  = link_to _('Workers'), admin_workers_path, class: "sidebar-sublink #{'current' if controller_name == 'workers'}"
                  = link_to _('Sidekiq'), admin_sidekiq_index_path, class: "sidebar-sublink #{'current' if current_page?(admin_sidekiq_index_path)}"
