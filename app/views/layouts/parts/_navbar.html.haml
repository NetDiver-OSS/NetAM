%nav{class: "main-header navbar navbar-expand-md #{dark_mode? ? 'navbar-dark' : 'navbar-light navbar-white' }"}
  %div.container
    %a.navbar-brand{href: root_path}
      %span.brand-text.font-weight-light NetAM

    %button.navbar-toggler.order-1{type: 'button', data: {toggle: 'collapse', target: '#navbarCollapse'}}
      %span.navbar-toggler-icon

    %div#navbarCollapse.collapse.navbar-collapse.order-3
      %ul.navbar-nav
        %li.nav-item= link_to 'Home', root_path, class: 'nav-link'
        %li.nav-item= link_to 'Sections', sections_path, class: 'nav-link'
        %li.nav-item.dropdown
          %a.nav-link.dropdown-toggle{href: "#", data: {toggle: "dropdown"}} Utils
          %ul{class: "dropdown-menu border-0 shadow #{'bg-dark text-white' if dark_mode?}"}
            %li= link_to '<i class="fas fa-server"></i> IP Calculator'.html_safe, calculator_path, class: "dropdown-item #{'bg-dark text-white' if dark_mode?}"

      %ul.order-1.order-md-3.navbar-nav.navbar-no-expand.ml-auto
        - if user_signed_in? && current_user.admin?
          %li.nav-item.dropdown
            %a.nav-link.dropdown-toggle{href: "#", data: {toggle: "dropdown"}} Admin Center
            %ul{class: "dropdown-menu border-0 shadow #{'bg-dark text-white' if dark_mode?}"}
              %li= link_to '<i class="fas fa-users"></i> Users'.html_safe, admin_users_path, class: "dropdown-item #{'bg-dark text-white' if dark_mode?}"
              %li= link_to '<i class="fas fa-tools"></i> Jobs'.html_safe, admin_jobs_path, class: "dropdown-item #{'bg-dark text-white' if dark_mode?}"

        %li.nav-item
          = link_to '<i class="fas fa-moon"></i>'.html_safe, '', class: "nav-link", id: 'dark_mode' unless dark_mode?
          = link_to '<i class="fas fa-sun"></i>'.html_safe, '', class: "nav-link", id: 'dark_mode' if dark_mode?

        %li.nav-item.dropdown
          %a.nav-link.dropdown-toggle{href: "#", data: {toggle: "dropdown"}}
            %i.fas.fa-user
          %ul{class: "dropdown-menu border-0 shadow #{'bg-dark text-white' if dark_mode?}"}
            %li
              %span{class: "dropdown-item #{'bg-dark text-white' if dark_mode?}"}= current_user.email
              %div.dropdown-divider
              = link_to '<i class="fas fa-key"></i> API Token'.html_safe, api_keys_path, class: "dropdown-item #{'bg-dark text-white' if dark_mode?}"
              = link_to '<i class="fas fa-sign-out-alt"></i> Logout'.html_safe, destroy_user_session_path, method: :delete, class: "dropdown-item #{'bg-dark text-white' if dark_mode?}"
